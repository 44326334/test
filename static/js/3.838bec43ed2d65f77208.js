webpackJsonp([3],{"8gpQ":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAAFVBMVEX///+vr6/39/e3t7fZ2dnLy8vn5+dVrLz6AAAAZ0lEQVQ4y2MgDFQNBVGAcBBCjgkmh5BVgEuyCmKAALgkM6akAVySEcwXg3ASwRwB4iURgJqSqIEyKjkqOSo5ZCQpLROcVHBLijAwOOKUFGJgUCRDEmEsYQfhLVLxFsZ4i3G8FQBBAACIZyfZbVfRmQAAAABJRU5ErkJggg=="},"9bBU":function(t,e,s){s("mClu");var a=s("FeBl").Object;t.exports=function(t,e,s){return a.defineProperty(t,e,s)}},Alss:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAAHeTXxYAAAAAXNSR0IArs4c6QAAAQVJREFUSA3lVYkNgzAMJKhjtAPBIGEmMkgXavcIOcDlQkMeRCVEkQpX+3x+YkFVHXQZY16QqnGz1t4/fwBwjZ4Jru5931s2KYiJBju+8DrSIziVRgxecif9DDrEiKeKaguTSV4OIeDpOZRSb3YGMWRZmkmeGjtieFcQzqHhYcUywBft7fCegtWgZKxP0OmMt5Aj1eOu6Z08KG+/aVo43Dp6wkQmqAkvMLYNYJ18esHyUsNRS/tphCWWdyCEtdaPdNTECFa3FSxJ4Ge8xWd7USIOLMXXSzS+XN0YTOnMc0c3b6PG6H6WBMXMDZii9V5/3bquy46/3jL8eUduVVus6/xrc1ccvAEgXmaXegtbZgAAAABJRU5ErkJggg=="},C4MV:function(t,e,s){t.exports={default:s("9bBU"),__esModule:!0}},VN7a:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("bOdI"),i=s.n(a),n=s("RkLV"),o={name:"infos",components:{HEADER:s("Cz8s").a},data:function(){var t;return t={warpHeight:null,bodyHeight:null,title:"填写购买信息",code:this.$route.params.data,show:!0,count:"",timer:null,phone:{data:null,state:""}},i()(t,"code",{data:null,state:""}),i()(t,"sum",{data:1,state:""}),i()(t,"seller",{data:2}),t},methods:{handleSendCode:function(){var t=this;if("success"!==this.phone.state)this.$toast({message:"请填写手机号",position:"top"});else{var e=this;Object(n.f)({mobile:this.phone.data}).then(function(t){e.$toast("短信已发送")}),this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){t.count>0&&t.count<=60?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3))}},handleSubmit:function(){var t=this;"success"===this.phone.state&&"success"===this.code.state&&"success"===this.sum.state?(this.$indicator.open(),Object(n.c)({mobile:this.phone.data,code:this.code.data,num:this.sum.data,seller:this.seller.data}).then(function(e){0===e.data.code&&(t.$store.commit("createOrder",e.data.body),setTimeout(function(){t.$router.push("/payment"),t.$indicator.close()},2e3))}),this.$store.commit("buyCard",{sum:this.sum.data,phone:this.phone.data,code:this.code.data,payed:!1})):this.$toast({message:"请填写正确",position:"top"})},handleNum:function(t){switch(t){case"minus":this.sum.data--;break;case"plus":this.sum.data++}},handleInputNum:function(t){this.sum.data=t.target.value.replace(/[^\d]/g,"")}},computed:{carded:function(){return this.$store.state.carded}},watch:{"phone.data":function(){/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(this.phone.data)?this.phone.state="success":this.phone.state="error"},"code.data":function(){/^\d{6}$/.test(this.code.data)?this.code.state="success":this.code.state="error"},"sum.data":function(t,e){t<1?(this.sum.data=1,this.sum.state="success"):t>99&&(this.sum.data=99,this.sum.state="success")},deep:!0},mounted:function(){1===this.sum.data&&(this.sum.state="success"),this.$store.state.carded.phone&&(this.phone.data=this.$store.state.carded.phone),YBB.hybrid.navigation.setTitle({title:"填写购买信息"})}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"infoswarp",style:{height:t.warpHeight+"px"}},[a("div",{staticClass:"infosborder"},[a("div",{staticClass:"infoscon"},[a("div",{staticClass:"infosform"},[a("mt-cell",{staticClass:"formcell"},[a("img",{attrs:{src:s("8gpQ"),alt:"",width:"20px",height:"20px"}}),t._v(" "),a("mt-field",{attrs:{type:"tel",state:t.phone.state,placeholder:"请输入手机号"},model:{value:t.phone.data,callback:function(e){t.$set(t.phone,"data",t._n(e))},expression:"phone.data"}},[a("mt-button",{staticClass:"codebtn",attrs:{size:"small",type:"primary",plain:"",disabled:!t.show},nativeOn:{click:function(e){return t.handleSendCode(e)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("获取验证码")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v(t._s(t.count)+" s")])])],1)],1),t._v(" "),a("mt-cell",{staticClass:"formcell"},[a("img",{attrs:{src:s("im/i"),alt:"",width:"20px",height:"20px"}}),t._v(" "),a("mt-field",{staticClass:"validate",attrs:{type:"number",state:t.code.state,placeholder:"请输入验证码"},model:{value:t.code.data,callback:function(e){t.$set(t.code,"data",t._n(e))},expression:"code.data"}})],1),t._v(" "),a("a",{staticClass:"mint-cell mint-field numform"},[a("div",{staticClass:"mint-cell-left"}),t._v(" "),a("div",{staticClass:"mint-cell-wrapper"},[t._m(0),t._v(" "),a("div",{staticClass:"mint-cell-value numcon"},[a("div",{staticClass:"mint-field-other sign"},[a("img",{attrs:{src:s("XZAV"),alt:"",width:"12px"},on:{click:function(e){t.handleNum("minus")}}})]),t._v(" "),a("input",{staticClass:"field-core",attrs:{number:"true",type:"number",min:"0",max:"10"},domProps:{value:t.sum.data},on:{input:t.handleInputNum}}),t._v(" "),a("div",{staticClass:"mint-field-other sign"},[a("img",{attrs:{src:s("Alss"),alt:"",width:"12px"},on:{click:function(e){t.handleNum("plus")}}})])])]),t._v(" "),a("div",{staticClass:"mint-cell-right"})]),t._v(" "),a("div",{staticClass:"btncon"},[a("mt-button",{staticClass:"nextbtn",attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){return t.handleSubmit(e)}}},[t._v("下一步")])],1)],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-cell-title"},[e("span",{staticClass:"mint-cell-text"},[this._v("购买数量：")])])}]};var l=s("VU/8")(o,c,!1,function(t){s("hM7A")},null,null);e.default=l.exports},XZAV:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAAHeTXxYAAAAAXNSR0IArs4c6QAAAHNJREFUSA1jYBiEgHHmzJkL/v//LzyQbmOcMWPG5oF0wMDbDQoCE6Az6ol1CiMj41ti1Y6qG9gQIDl9gyKXidQYBubiKQPrz1HbR0NgMIYAuHAFZqccWlV0oKwKyn6gPEszS0AhC/IAyI7BGMqjbhruIQAAj3EkUX5BIJUAAAAASUVORK5CYII="},bOdI:function(t,e,s){"use strict";e.__esModule=!0;var a,i=s("C4MV"),n=(a=i)&&a.__esModule?a:{default:a};e.default=function(t,e,s){return e in t?(0,n.default)(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},hM7A:function(t,e){},"im/i":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAM1BMVEX///+vr6/4+Pi4uLje3t60tLT6+vrLy8vz8/Pl5eXGxsbn5+fPz8+9vb27u7uxsbHr6+u26kAyAAAA4klEQVRIx+2V2w6DIAyGRwvlMEDf/2ln5+KmmFC4MLr43/mHzx7Spo/TCHTIxuSgoQ2LalFsQJ9G/cg8pZxWG2lhPMVK2hE5nRRLFBM4z0Ev4QfOVlJnZG78fo9MRkHAoijNDog6k9ZWEvUn8KvyX6EK5umVW1tusnIV5J7S2iLuaxVUk/a8GzwUBIuqKrSws0wSlQtmlVB2A6IUxKJ+qf4JRA/gsR1EYpuwGfSz75tBmH1oBmn26bhU0bHtUASWQ4k9A/C2b/Dzopwd6AIDQLjGIp8WRCmH3Seg++h0n7nr6QXJDAhfTrBaZQAAAABJRU5ErkJggg=="},mClu:function(t,e,s){var a=s("kM2E");a(a.S+a.F*!s("+E39"),"Object",{defineProperty:s("evD5").f})}});
//# sourceMappingURL=3.838bec43ed2d65f77208.js.map